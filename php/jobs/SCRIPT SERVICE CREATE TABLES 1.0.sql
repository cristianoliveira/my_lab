-- MySQL Script generated by MySQL Workbench
-- 12/02/14 12:41:21
-- Model: New Model    Version: 1.0
SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CLIENTE` (
  `ID_CLIENTE` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ID_CLIENTE_E` INT(11) UNSIGNED NOT NULL,
  `DT_CADASTRO` DATE NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  `DESCRICAO` VARCHAR(200) NULL,
  `NOME_CONTATO` VARCHAR(60) NULL,
  `NEGATIVACAO` TINYINT NULL,
  PRIMARY KEY (`ID_CLIENTE`, `ID_CLIENTE_E`))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`TIPO_DOC_PESSOA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TIPO_DOC_PESSOA` (
  `ID_TIPO_DOC_PESSOA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `DESCR_TIPO_DOC_PESSOA` VARCHAR(15) NOT NULL,
  `COD_0PERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` INT(11) UNSIGNED NOT NULL,
  `HR_ALTERACAO` INT(11) UNSIGNED NOT NULL,
  PRIMARY KEY (`ID_TIPO_DOC_PESSOA`))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`TIPO_ORIGEM`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TIPO_ORIGEM` (
  `ID_TIPO_ORIGEM` INT NOT NULL,
  `DESCRICAO_ORIGEM` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_TIPO_ORIGEM`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`DOCUMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DOCUMENTO` (
  `ID_DOC_PESSOA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `TIPO_DOC_PESSOA_ID_TIPO_DOC_PESSOA` INT(11) UNSIGNED NOT NULL,
  `NUM_DOCUMENTO` VARCHAR(18) NULL,
  `DT_EMISSAO` DATE NULL,
  `ORGAO_EMISSOR` VARCHAR(15) NULL,
  `UF` VARCHAR(2) NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  `TIPO_ORIGEM_ID_TIPO_ORIGEM` INT NOT NULL,
  `ID_ORIGEM` INT NOT NULL,
  PRIMARY KEY (`ID_DOC_PESSOA`, `ID_ORIGEM`),
  INDEX `DOC_PESSOA_FKIndex2` (`TIPO_DOC_PESSOA_ID_TIPO_DOC_PESSOA` ASC),
  INDEX `fk_DOC_PESSOA_TIPO_ORIGEM1_idx` (`TIPO_ORIGEM_ID_TIPO_ORIGEM` ASC),
  CONSTRAINT `fk_{0367C237-DD47-494C-9DE6-67DADC934514}`
    FOREIGN KEY (`TIPO_DOC_PESSOA_ID_TIPO_DOC_PESSOA`)
    REFERENCES `mydb`.`TIPO_DOC_PESSOA` (`ID_TIPO_DOC_PESSOA`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_DOC_PESSOA_TIPO_ORIGEM1`
    FOREIGN KEY (`TIPO_ORIGEM_ID_TIPO_ORIGEM`)
    REFERENCES `mydb`.`TIPO_ORIGEM` (`ID_TIPO_ORIGEM`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`FORNECEDOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FORNECEDOR` (
  `ID_FORNCEDOR` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `PESSOA_ID_PESSOA` INT(11) UNSIGNED NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_FORNCEDOR`),
  INDEX `FUNCIONARIO_FKIndex1` (`PESSOA_ID_PESSOA` ASC))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`USUARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`USUARIO` (
  `ID_USUARIO` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `LOGIN` VARCHAR(20) NOT NULL,
  `SITUACAO` CHAR NOT NULL,
  `SENHA` VARCHAR(10) NOT NULL,
  `TIPO_USUARIO` CHAR NOT NULL,
  `DT_ALTERACAO` INT(11) UNSIGNED NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `HR_ALTERACAO` INT(11) UNSIGNED NOT NULL,
  `TIPO_ORIGEM_ID_TIPO_ORIGEM` INT NOT NULL,
  `ID_ORIGEM` INT NOT NULL,
  PRIMARY KEY (`ID_USUARIO`, `ID_ORIGEM`),
  INDEX `fk_USUARIO_TIPO_ORIGEM1_idx` (`TIPO_ORIGEM_ID_TIPO_ORIGEM` ASC),
  CONSTRAINT `fk_USUARIO_TIPO_ORIGEM1`
    FOREIGN KEY (`TIPO_ORIGEM_ID_TIPO_ORIGEM`)
    REFERENCES `mydb`.`TIPO_ORIGEM` (`ID_TIPO_ORIGEM`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`BANCO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`BANCO` (
  `ID_BANCO` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `COD_BANCO` INT(11) UNSIGNED NOT NULL,
  `NOME_BANCO` VARCHAR(80) NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  PRIMARY KEY (`ID_BANCO`))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`MOTIVOS_DEVOLUCAO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`MOTIVOS_DEVOLUCAO` (
  `ID_MOTIVO_DEVOLUCAO` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `COD_MOTIVO` INT(11) UNSIGNED NOT NULL,
  `DESCRICAO_MOTIVO` VARCHAR(80) NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_MOTIVO_DEVOLUCAO`))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`STATUS_DIVIDA_PARCELA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`STATUS_DIVIDA_PARCELA` (
  `ID_STATUS` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ITEM_STATUS` INT(11) UNSIGNED NOT NULL,
  `DESCRICAO_STATUS` VARCHAR(50) NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_STATUS`))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`TIPO_CATEGORIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TIPO_CATEGORIA` (
  `ID_TIPO_CATEGORIA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `DESCRICAO_TIPO_CATEGORIA` VARCHAR(60) NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_TIPO_CATEGORIA`))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`CATEGORIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CATEGORIA` (
  `ID_CATEGORIA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `TIPO_CATEGORIA_ID_TIPO_CATEGORIA` INT(11) UNSIGNED NOT NULL,
  `DESCRICAO_CATEGORIA` VARCHAR(60) NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_CATEGORIA`),
  INDEX `CATEGORIA_FKIndex1` (`TIPO_CATEGORIA_ID_TIPO_CATEGORIA` ASC),
  CONSTRAINT `fk_{0DB99BD8-1DB5-4A81-9A5E-2F72403B62CF}`
    FOREIGN KEY (`TIPO_CATEGORIA_ID_TIPO_CATEGORIA`)
    REFERENCES `mydb`.`TIPO_CATEGORIA` (`ID_TIPO_CATEGORIA`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`DIVIDA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`DIVIDA` (
  `ID_DIVIDA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ID_CREDOR` INT(11) UNSIGNED NOT NULL,
  `CATEGORIA_ID_CATEGORIA` INT(11) UNSIGNED NOT NULL,
  `STATUS_DIVIDA_PARCELA_ID_STATUS` INT(11) UNSIGNED NOT NULL,
  `DESCRICAO_DIVIDA` VARCHAR(70) NOT NULL,
  `DT_LANCAMENTO` DATETIME NOT NULL,
  `DT_COMPETENCIA` DATETIME NOT NULL,
  `VALOR` DECIMAL(10,0) NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  `OBSERVACOES` VARCHAR(200) NULL,
  `QT_PARCELAS` INT(11) UNSIGNED NULL,
  `NUM_NOTA_FISCAL` INT(11) UNSIGNED NULL,
  PRIMARY KEY (`ID_DIVIDA`, `ID_CREDOR`),
  INDEX `DIVIDA_FKIndex1` (`STATUS_DIVIDA_PARCELA_ID_STATUS` ASC),
  INDEX `DIVIDA_FKIndex1` (`STATUS_DIVIDA_PARCELA_ID_STATUS` ASC),
  INDEX `DIVIDA_FKIndex3` (`CATEGORIA_ID_CATEGORIA` ASC),
  CONSTRAINT `fk_{3EA95377-EC39-499D-B298-4B3555F6F9BB}`
    FOREIGN KEY (`STATUS_DIVIDA_PARCELA_ID_STATUS`)
    REFERENCES `mydb`.`STATUS_DIVIDA_PARCELA` (`ID_STATUS`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_{CE69241B-3826-4AD6-9B14-D8362D035B01}`
    FOREIGN KEY (`CATEGORIA_ID_CATEGORIA`)
    REFERENCES `mydb`.`CATEGORIA` (`ID_CATEGORIA`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`TIPO_PARCELA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TIPO_PARCELA` (
  `ID_TIPO_PARCELA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `DESCRICAO_TIPO` VARCHAR(50) NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_TIPO_PARCELA`))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`RECEITA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`RECEITA` (
  `ID_RECEITA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ID_DEVEDOR` INT(11) UNSIGNED NOT NULL,
  `CATEGORIA_ID_CATEGORIA` INT(11) UNSIGNED NOT NULL,
  `STATUS_DIVIDA_PARCELA_ID_STATUS` INT(11) UNSIGNED NOT NULL,
  `DESCRICAO_RECEITA` INT(11) UNSIGNED NOT NULL,
  `DT_LANCAMENTO` DATETIME NOT NULL,
  `DT_COMPETENCIA` DATETIME NOT NULL,
  `VALOR` DECIMAL(10,0) NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  `OBERVACOES` VARCHAR(200) NULL,
  `QT_PARCELAS` INT(11) UNSIGNED NULL,
  `NUM_NOTA_FISCAL` INT(11) UNSIGNED NULL,
  PRIMARY KEY (`ID_RECEITA`, `ID_DEVEDOR`),
  INDEX `RECEITA_FKIndex4` (`STATUS_DIVIDA_PARCELA_ID_STATUS` ASC),
  INDEX `RECEITA_FKIndex3` (`CATEGORIA_ID_CATEGORIA` ASC),
  CONSTRAINT `fk_{0B76299E-C0F9-4DF2-AA60-E4E6D9FC3A08}`
    FOREIGN KEY (`STATUS_DIVIDA_PARCELA_ID_STATUS`)
    REFERENCES `mydb`.`STATUS_DIVIDA_PARCELA` (`ID_STATUS`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_{3BF21111-06F6-48A6-9E13-F3BB09FC9226}`
    FOREIGN KEY (`CATEGORIA_ID_CATEGORIA`)
    REFERENCES `mydb`.`CATEGORIA` (`ID_CATEGORIA`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`PARCELA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PARCELA` (
  `ID_PARCELA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `RECEITA_ID_DEVEDOR` INT(11) UNSIGNED NULL,
  `RECEITA_ID_RECEITA` INT(11) UNSIGNED NULL,
  `DIVIDA_ID_CREDOR` INT(11) UNSIGNED NULL,
  `RECEITA_ID_DIVIDA` INT(11) UNSIGNED NULL,
  `TIPO_PARCELA_ID_TIPO_PARCELA` INT(11) UNSIGNED NOT NULL,
  `STATUS_DIVIDA_PARCELA_ID_STATUS` INT(11) UNSIGNED NOT NULL,
  `NUMERO_PARCELA` INT(11) UNSIGNED NOT NULL,
  `DT_VENCIMENTO` DATETIME NOT NULL,
  `DT_EMISSAO` DATETIME NOT NULL,
  `DT_PAGAMENTO` DATETIME NULL,
  `VALOR` INT(11) UNSIGNED NOT NULL,
  `VALOR_PAGO` INT(11) UNSIGNED NULL,
  PRIMARY KEY (`ID_PARCELA`),
  INDEX `PARCELAS_DIVIDA_FKIndex2` (`STATUS_DIVIDA_PARCELA_ID_STATUS` ASC),
  INDEX `PARCELAS_DIVIDA_FKIndex3` (`TIPO_PARCELA_ID_TIPO_PARCELA` ASC),
  INDEX `PARCELAS_DIVIDA_FKIndex1` (`STATUS_DIVIDA_PARCELA_ID_STATUS` ASC),
  INDEX `PARCELAS_DIVIDA_FKIndex2` (`RECEITA_ID_DIVIDA` ASC, `DIVIDA_ID_CREDOR` ASC),
  INDEX `PARCELAS_DIVIDA_FKIndex3` (`TIPO_PARCELA_ID_TIPO_PARCELA` ASC),
  INDEX `PARCELA_FKIndex4` (`RECEITA_ID_RECEITA` ASC, `RECEITA_ID_DEVEDOR` ASC),
  CONSTRAINT `fk_{F262E224-92AE-498C-8B35-ECE77FACA0BE}`
    FOREIGN KEY (`STATUS_DIVIDA_PARCELA_ID_STATUS`)
    REFERENCES `mydb`.`STATUS_DIVIDA_PARCELA` (`ID_STATUS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_{11BF4878-03D4-4EA2-8A6F-BAD7AB1A6376}`
    FOREIGN KEY (`RECEITA_ID_DIVIDA` , `DIVIDA_ID_CREDOR`)
    REFERENCES `mydb`.`DIVIDA` (`ID_DIVIDA` , `ID_CREDOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_{1C0EFCE0-86DD-481F-B3C9-7006F4DD01B5}`
    FOREIGN KEY (`TIPO_PARCELA_ID_TIPO_PARCELA`)
    REFERENCES `mydb`.`TIPO_PARCELA` (`ID_TIPO_PARCELA`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_{5949B4F6-EDC8-4AEB-95CC-32F0041EEC14}`
    FOREIGN KEY (`RECEITA_ID_RECEITA` , `RECEITA_ID_DEVEDOR`)
    REFERENCES `mydb`.`RECEITA` (`ID_RECEITA` , `ID_DEVEDOR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`CHEQUE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CHEQUE` (
  `ID_CHEQUE` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `PARCELA_ID_PARCELA` INT(11) UNSIGNED NULL,
  `MOTIVOS_DEVOLUCAO_ID_MOTIVO_DEVOLUCAO` INT(11) UNSIGNED NULL,
  `BANCO_ID_BANCO` INT(11) UNSIGNED NOT NULL,
  `NUM_CHEQUE` INT(11) UNSIGNED NOT NULL,
  `AGENCIA` INT(11) UNSIGNED NOT NULL,
  `CONTA` INT(11) UNSIGNED NOT NULL,
  `DV_AGENCIA` INT(11) UNSIGNED NOT NULL,
  `DV_CONTA` INT(11) UNSIGNED NOT NULL,
  `VALOR` INT(11) UNSIGNED NOT NULL,
  `EMISSOR` VARCHAR(60) NOT NULL,
  `CPF_CNPJ_EMISSOR` VARCHAR(18) NOT NULL,
  `IMAGEM` BLOB NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_CHEQUE`),
  INDEX `CHEQUE_FKIndex1` (`BANCO_ID_BANCO` ASC),
  INDEX `CHEQUE_FKIndex2` (`MOTIVOS_DEVOLUCAO_ID_MOTIVO_DEVOLUCAO` ASC),
  INDEX `CHEQUE_FKIndex3` (`PARCELA_ID_PARCELA` ASC),
  CONSTRAINT `fk_{3821AAED-99D1-4AF6-997E-A8E5B744EBD6}`
    FOREIGN KEY (`BANCO_ID_BANCO`)
    REFERENCES `mydb`.`BANCO` (`ID_BANCO`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_{5B186C4A-6A01-48EB-BF38-47CB757C1BB7}`
    FOREIGN KEY (`MOTIVOS_DEVOLUCAO_ID_MOTIVO_DEVOLUCAO`)
    REFERENCES `mydb`.`MOTIVOS_DEVOLUCAO` (`ID_MOTIVO_DEVOLUCAO`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_{55FAE9DA-A4B1-40A7-B7C7-AE8EF72EFEE9}`
    FOREIGN KEY (`PARCELA_ID_PARCELA`)
    REFERENCES `mydb`.`PARCELA` (`ID_PARCELA`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`TIPO_CARTEIRA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TIPO_CARTEIRA` (
  `ID_TIPO_CARTEIRA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `BANCO_ID_BANCO` INT(11) UNSIGNED NOT NULL,
  `DESCRICAO_TIPO_CARTEIRA` VARCHAR(60) NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_TIPO_CARTEIRA`),
  INDEX `TIPO_CARTEIRA_FKIndex1` (`BANCO_ID_BANCO` ASC),
  CONSTRAINT `fk_{552314D2-501E-4053-9B3A-CF49A58F36B7}`
    FOREIGN KEY (`BANCO_ID_BANCO`)
    REFERENCES `mydb`.`BANCO` (`ID_BANCO`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`RAMO_ATUACAO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`RAMO_ATUACAO` (
  `ID_RAMO_ATUACAO` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `DESCRICAO_RAMO` VARCHAR(60) NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_RAMO_ATUACAO`))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`EMPRESA_CEDENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`EMPRESA_CEDENTE` (
  `ID_EMPRESA_CEDENTE` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `USUARIO_PESSOA_ID_PESSOA` INT(11) UNSIGNED NOT NULL,
  `USUARIO_ID_USUARIO` INT(11) UNSIGNED NOT NULL,
  `RAMO_ATUACAO_ID_RAMO_ATUACAO` INT(11) UNSIGNED NOT NULL,
  `NOME_EMPRESA` VARCHAR(60) NOT NULL,
  `CPF_CNPJ` VARCHAR(18) NOT NULL,
  `ESTADO` VARCHAR(2) NOT NULL,
  `CIDADE` VARCHAR(40) NOT NULL,
  `LOGO` BLOB NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  `LOGRADOURO` VARCHAR(60) NULL,
  `NUMERO` INT(11) UNSIGNED NULL,
  `COMPLEMENTO` VARCHAR(40) NULL,
  `BAIRRO` VARCHAR(40) NULL,
  `CEP` VARCHAR(10) NULL,
  PRIMARY KEY (`ID_EMPRESA_CEDENTE`),
  INDEX `EMPRESA_FKIndex1` (`RAMO_ATUACAO_ID_RAMO_ATUACAO` ASC),
  INDEX `EMPRESA_CEDENTE_FKIndex2` (`USUARIO_ID_USUARIO` ASC, `USUARIO_PESSOA_ID_PESSOA` ASC),
  CONSTRAINT `fk_{D8BB333A-A2B0-4FC4-AB9F-700E4AE65D11}`
    FOREIGN KEY (`RAMO_ATUACAO_ID_RAMO_ATUACAO`)
    REFERENCES `mydb`.`RAMO_ATUACAO` (`ID_RAMO_ATUACAO`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_{1633C567-E5BC-4210-A9A9-4421A20C5F1B}`
    FOREIGN KEY (`USUARIO_ID_USUARIO`)
    REFERENCES `mydb`.`USUARIO` (`ID_USUARIO`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`CONVENIO_BANCO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CONVENIO_BANCO` (
  `ID_CONVENIO_BANCO` INT(11) UNSIGNED NOT NULL,
  `BANCO_ID_BANCO` INT(11) UNSIGNED NOT NULL,
  `EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE` INT(11) UNSIGNED NOT NULL,
  `TIPO_CARTEIRA_ID_TIPO_CARTEIRA` INT(11) UNSIGNED NOT NULL,
  `NUM_CONVENIO` INT(11) UNSIGNED NULL,
  `AGENCIA` INT(11) UNSIGNED NOT NULL,
  `DV_AGENCIA` INT(11) UNSIGNED NOT NULL,
  `DV_CONTA` INT(11) UNSIGNED NOT NULL,
  `CONTA` INT(11) UNSIGNED NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_CONVENIO_BANCO`, `BANCO_ID_BANCO`, `EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE`),
  INDEX `CONVENIO_BANCO_FKIndex2` (`BANCO_ID_BANCO` ASC),
  INDEX `CONVENIO_BANCO_FKIndex2` (`TIPO_CARTEIRA_ID_TIPO_CARTEIRA` ASC),
  INDEX `CONVENIO_BANCO_FKIndex3` (`EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE` ASC),
  CONSTRAINT `fk_{097FDC83-1538-4312-A817-B746CA118077}`
    FOREIGN KEY (`BANCO_ID_BANCO`)
    REFERENCES `mydb`.`BANCO` (`ID_BANCO`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_{49FD2B3F-F4A8-44CA-AEDB-DAC7871FF83A}`
    FOREIGN KEY (`TIPO_CARTEIRA_ID_TIPO_CARTEIRA`)
    REFERENCES `mydb`.`TIPO_CARTEIRA` (`ID_TIPO_CARTEIRA`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_{147C8615-E91D-4EA6-91C6-4D47F400BA80}`
    FOREIGN KEY (`EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE`)
    REFERENCES `mydb`.`EMPRESA_CEDENTE` (`ID_EMPRESA_CEDENTE`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`PROMISSORIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`PROMISSORIA` (
  `ID_PROMISSORIA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `NUM_PROMISSORIA` INT(11) UNSIGNED NOT NULL,
  `FAVORECIDO` INT(11) UNSIGNED NOT NULL,
  `EMITENTE` INT(11) UNSIGNED NOT NULL,
  `VALOR` DECIMAL(10,0) NOT NULL,
  `DT_VENCIMENTO` DATETIME NOT NULL,
  `DT_EMISSAO` DATETIME NOT NULL,
  `IMAGEM` BLOB NULL,
  `PARCELA_ID_PARCELA` INT(11) UNSIGNED NOT NULL,
  PRIMARY KEY (`ID_PROMISSORIA`),
  INDEX `fk_PROMISSORIA_PARCELA1_idx` (`PARCELA_ID_PARCELA` ASC),
  CONSTRAINT `fk_PROMISSORIA_PARCELA1`
    FOREIGN KEY (`PARCELA_ID_PARCELA`)
    REFERENCES `mydb`.`PARCELA` (`ID_PARCELA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`CLIENTE_has_CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CLIENTE_has_CLIENTE` (
  `CLIENTE_PESSOA_ID_PESSOA` INT(11) UNSIGNED NOT NULL,
  `CLIENTE_ID_CLIENTE` INT(11) UNSIGNED NOT NULL,
  `CLIENTE_ID_CLIENTE_E` INT(11) UNSIGNED NOT NULL,
  PRIMARY KEY (`CLIENTE_PESSOA_ID_PESSOA`, `CLIENTE_ID_CLIENTE`, `CLIENTE_ID_CLIENTE_E`),
  INDEX `CLIENTE_has_CLIENTE_FKIndex1` (`CLIENTE_ID_CLIENTE` ASC, `CLIENTE_PESSOA_ID_PESSOA` ASC, `CLIENTE_ID_CLIENTE_E` ASC),
  INDEX `CLIENTE_has_CLIENTE_FKIndex2` (`CLIENTE_ID_CLIENTE` ASC, `CLIENTE_PESSOA_ID_PESSOA` ASC, `CLIENTE_ID_CLIENTE_E` ASC),
  CONSTRAINT `fk_{2F12C6F2-E764-4C58-AD2B-27CF5FA8C11F}`
    FOREIGN KEY (`CLIENTE_ID_CLIENTE` , `CLIENTE_ID_CLIENTE_E`)
    REFERENCES `mydb`.`CLIENTE` (`ID_CLIENTE` , `ID_CLIENTE_E`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_{ACA76BF7-5D56-4351-A2F0-CE51D4505703}`
    FOREIGN KEY (`CLIENTE_ID_CLIENTE` , `CLIENTE_ID_CLIENTE_E`)
    REFERENCES `mydb`.`CLIENTE` (`ID_CLIENTE` , `ID_CLIENTE_E`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE);


-- -----------------------------------------------------
-- Table `mydb`.`MANUAIS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`MANUAIS` (
  `ID_MANUAL` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `DESCRICAO_MANUAL` VARCHAR(60) NOT NULL,
  `OBSERVACOES` VARCHAR(200) NOT NULL,
  `ARQUIVO` BLOB NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_MANUAL`))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`BOLETO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`BOLETO` (
  `ID_BOLETO` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `DT_EMISSAO` DATETIME NOT NULL,
  `DT_VENCIMENTO` DATETIME NOT NULL,
  `DT_PAGAMENTO` DATETIME NULL,
  `IMAGEM` BLOB NULL,
  `COD_BARRAS` VARCHAR(200) NOT NULL,
  `SACADO` VARCHAR(60) NOT NULL,
  `CONVENIO_BANCO_ID_CONVENIO_BANCO` INT(11) UNSIGNED NOT NULL,
  `CONVENIO_BANCO_BANCO_ID_BANCO` INT(11) UNSIGNED NOT NULL,
  `CONVENIO_BANCO_EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE` INT(11) UNSIGNED NOT NULL,
  `VL_JUROS` DECIMAL(10,0) NULL,
  `VL_MULTA` DECIMAL(10,0) NULL,
  `VL_ORIGINAL` DECIMAL(10,0) NULL,
  `VL_PAGO` DECIMAL(10,0) NOT NULL,
  `COD_OPERADOR` INT(11) NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  `PARCELA_ID_PARCELA` INT(11) UNSIGNED NOT NULL,
  `TIPO_GERACAO` CHAR NOT NULL,
  PRIMARY KEY (`ID_BOLETO`),
  INDEX `fk_BOLETO_CONVENIO_BANCO1_idx` (`CONVENIO_BANCO_ID_CONVENIO_BANCO` ASC, `CONVENIO_BANCO_BANCO_ID_BANCO` ASC, `CONVENIO_BANCO_EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE` ASC),
  INDEX `fk_BOLETO_PARCELA1_idx` (`PARCELA_ID_PARCELA` ASC),
  CONSTRAINT `fk_BOLETO_CONVENIO_BANCO1`
    FOREIGN KEY (`CONVENIO_BANCO_ID_CONVENIO_BANCO` , `CONVENIO_BANCO_BANCO_ID_BANCO` , `CONVENIO_BANCO_EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE`)
    REFERENCES `mydb`.`CONVENIO_BANCO` (`ID_CONVENIO_BANCO` , `BANCO_ID_BANCO` , `EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_BOLETO_PARCELA1`
    FOREIGN KEY (`PARCELA_ID_PARCELA`)
    REFERENCES `mydb`.`PARCELA` (`ID_PARCELA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`ENDERECO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ENDERECO` (
  `ID_ENDERECO` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `TELEFONE_COMERCIAL` VARCHAR(10) NULL,
  `TELEFONE_RESIDENCIAL` VARCHAR(10) NULL,
  `TELEFONE_CELULAR` VARCHAR(10) NOT NULL,
  `DDD_COMERCIAL` INT(11) UNSIGNED NOT NULL,
  `DDD_CELULAR` INT(11) UNSIGNED NOT NULL,
  `DDD_RESIDENCIAL` INT(11) UNSIGNED NOT NULL,
  `E_MAIL` VARCHAR(40) NOT NULL,
  `LOGRADOURO` VARCHAR(30) NOT NULL,
  `COMPLEMENTO` VARCHAR(30) NULL,
  `NUMERO` INT(11) UNSIGNED NULL,
  `BAIRO` INT(11) UNSIGNED NOT NULL,
  `CEP` INT(11) UNSIGNED NOT NULL,
  `CIDADE` INT(11) UNSIGNED NOT NULL,
  `UF` INT(11) UNSIGNED NOT NULL,
  `OBSERVACOES` VARCHAR(200) NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  `ID_ORIGEM` INT NOT NULL,
  `TIPO_ORIGEM_ID_TIPO_ORIGEM` INT NOT NULL,
  PRIMARY KEY (`ID_ENDERECO`, `ID_ORIGEM`),
  INDEX `fk_ENDERECO_TIPO_ORIGEM1_idx` (`TIPO_ORIGEM_ID_TIPO_ORIGEM` ASC),
  CONSTRAINT `fk_ENDERECO_TIPO_ORIGEM1`
    FOREIGN KEY (`TIPO_ORIGEM_ID_TIPO_ORIGEM`)
    REFERENCES `mydb`.`TIPO_ORIGEM` (`ID_TIPO_ORIGEM`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`FUNCIONARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`FUNCIONARIO` (
  `ID_FUNCIONARIO` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `PESSOA_ID_PESSOA` INT(11) UNSIGNED NOT NULL,
  `DT_ADMISSAO` DATETIME NOT NULL,
  `DT_DEMISSAO` DATETIME NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_FUNCIONARIO`),
  INDEX `FUNCIONARIO_FKIndex1` (`PESSOA_ID_PESSOA` ASC))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`TIPO_CONTA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TIPO_CONTA` (
  `ID_TIPO_CONTA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `DESCRICAO_TIPO_CONTA` VARCHAR(60) NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  PRIMARY KEY (`ID_TIPO_CONTA`))
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`CONTAS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CONTAS` (
  `ID_CONTA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE` INT(11) UNSIGNED NOT NULL,
  `TIPO_CONTA_ID_TIPO_CONTA` INT(11) UNSIGNED NOT NULL,
  `DESCRICAO_CONTA` INT(11) UNSIGNED NOT NULL,
  `COD_OPERADOR` INT(11) UNSIGNED NOT NULL,
  `DT_ALTERACAO` DATETIME NOT NULL,
  `HR_ALTERACAO` TIME NOT NULL,
  `PRINCIPAL` CHAR NULL,
  `SALDO_INICIAL` DECIMAL(10,0) NOT NULL,
  PRIMARY KEY (`ID_CONTA`, `EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE`),
  INDEX `CONTAS_FKIndex1` (`EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE` ASC),
  INDEX `CONTAS_FKIndex2` (`TIPO_CONTA_ID_TIPO_CONTA` ASC),
  CONSTRAINT `fk_{5BB4974D-F48F-4453-B9DC-D07D71577464}`
    FOREIGN KEY (`EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE`)
    REFERENCES `mydb`.`EMPRESA_CEDENTE` (`ID_EMPRESA_CEDENTE`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE,
  CONSTRAINT `fk_{47AECF0F-E715-4BB7-AF10-2A8A83177736}`
    FOREIGN KEY (`TIPO_CONTA_ID_TIPO_CONTA`)
    REFERENCES `mydb`.`TIPO_CONTA` (`ID_TIPO_CONTA`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


-- -----------------------------------------------------
-- Table `mydb`.`TRANSFERENCIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`TRANSFERENCIA` (
  `ID_TRANSFERENCIA` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
  `VALOR` DECIMAL(10,0) NOT NULL,
  `CONCLUIDO` TINYINT(1) NULL,
  `CONTAS_ID_CONTA_ORIGEM` INT(11) UNSIGNED NOT NULL,
  `CONTAS_EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE` INT(11) UNSIGNED NOT NULL,
  `CONTAS_ID_CONTA_DESTINO` INT(11) NOT NULL,
  `COD_OPERADOR` INT(11) NOT NULL,
  `DT_OPERADOR` DATETIME NOT NULL,
  `HR_OPERADOR` TIME NOT NULL,
  PRIMARY KEY (`ID_TRANSFERENCIA`, `CONTAS_ID_CONTA_ORIGEM`, `CONTAS_EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE`, `CONTAS_ID_CONTA_DESTINO`),
  INDEX `fk_TRANSFERENCIA_CONTAS1_idx` (`CONTAS_ID_CONTA_ORIGEM` ASC, `CONTAS_EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE` ASC),
  CONSTRAINT `fk_TRANSFERENCIA_CONTAS1`
    FOREIGN KEY (`CONTAS_ID_CONTA_ORIGEM` , `CONTAS_EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE`)
    REFERENCES `mydb`.`CONTAS` (`ID_CONTA` , `EMPRESA_CEDENTE_ID_EMPRESA_CEDENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
PACK_KEYS = 0
ROW_FORMAT = DEFAULT;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
